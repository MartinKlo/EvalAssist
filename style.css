
/* Simple reset */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{ margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:var(--text); background:var(--bg); transition: background-color var(--transition), color var(--transition); }

:root{
	/* 1rem = 16px (browser default). Sidebar width: 280px -> 17.5rem */
	--sidebar-width: 17.5rem;
	--transition: 220ms ease;
	--accent: #0b5fff;
	--muted: #6b7280;
	--border: #e5e7eb;

	/* copy button (defaults for light theme) */
	--copy-bg: #16a34a; /* green-600 */
	--copy-border: #15803d; /* green-700 */
	--copy-hover: #15803d;
	--copy-contrast: #ffffff;
}

/* Theme variables (light by default) */
:root{
	--bg: #ffffff;
	--panel: #f9fafb;
	--text: #111827;
	--muted: #6b7280;
}

html[data-theme='dark']{
	--bg: #0b1220;
	--panel: #071026;
	--text: #e6eef8;
	--muted: #9aa6b2;
	--accent: #79a7ff;
	--border: rgba(255,255,255,0.06);

	/* darker greens for dark theme */
	--copy-bg: #0f5130; /* darker green */
	--copy-border: #0d3f24;
	--copy-hover: #0d3f24;
	--copy-contrast: #ffffff;
}

/* Sidebar-specific overrides for dark mode to improve contrast per user request */
html[data-theme='dark'] .sidebar .project-link{
	/* unselected links should use the accent color */
	color: var(--accent);
}
html[data-theme='dark'] .sidebar .project-link:hover,
html[data-theme='dark'] .sidebar .project-link:focus{
	/* slightly lighter accent background on hover */
	background: rgba(121,167,255,0.08);
	color: var(--text);
}
html[data-theme='dark'] .sidebar .project-link.active{
	/* selected link should match off-white (part headers) */
	color: var(--text);
	background: rgba(255,255,255,0.04);
}

/* visually-hidden utility */
.visually-hidden{ position:absolute !important; height:0.0625rem; width:0.0625rem; overflow:hidden; clip:rect(0.0625rem,0.0625rem,0.0625rem,0.0625rem); white-space:nowrap; }

/* hamburger button */
.hamburger{
	position: fixed;
	top: 0.75rem; /* 12px */
	left: 0.75rem; /* 12px */
	width: 2.75rem; /* 44px */
	height: 2.75rem; /* 44px */
	display: inline-grid;
	place-items: center;
	background: var(--panel);
	border: 0.0625rem solid var(--border); /* 1px */
	border-radius: 0.5rem; /* 8px */
	z-index: 60;
	cursor: pointer;
	transition: background-color var(--transition), border-color var(--transition);
}
.hamburger:focus{ outline: 0.1875rem solid rgba(11,95,255,0.12); }
.hamburger .bar{ display:block; width:1.25rem; /*20px*/ height:0.125rem; /*2px*/ background:var(--text); margin:0.1875rem 0; transition:transform var(--transition), opacity var(--transition), background-color var(--transition); }

/* sidebar */
.sidebar{
	position: fixed; top:0; left:0; bottom:0;
	width: var(--sidebar-width);
	background: var(--panel);
	border-right: 0.0625rem solid var(--border); /*1px*/
	box-shadow: 0 0.125rem 0.75rem rgba(15,23,42,0.03); /* 2px/12px */
	transform: translateX(-110%);
	transition: transform var(--transition), background-color var(--transition), border-color var(--transition);
	z-index: 50;
	padding: 4rem 1rem 1rem 1rem; /* 64px 16px 16px 16px */
	overflow-y: auto;
}
.sidebar.open{ transform: translateX(0); }

/* sidebar floats over page content; it should not push or resize main content */
/* we intentionally do not modify page padding when sidebar opens */

/* overlay */
.overlay{ position:fixed; inset:0; background: rgba(0,0,0,0.35); z-index:45; }
.overlay[hidden]{ display:none; }

/* nav */
.group-title{ font-size:0.9rem; margin:0.5rem 0; color:var(--muted); }
.project-list{ list-style:none; padding:0; margin:0.5rem 0 1rem 0; }
.project-link{ display:block; padding:0.5rem 0.625rem; border-radius:0.375rem; color:var(--text); text-decoration:none; }
.project-link:hover, .project-link:focus{ background: rgba(11,95,255,0.06); color:var(--accent); outline:none; }
.project-link.active{ background: rgba(11,95,255,0.12); color:var(--accent); font-weight:600; }

/* main content spacing */
/* main content spacing */
#main{ padding: 0rem 5rem; max-width: 60rem; margin:0 auto; }
#main{ padding: 0rem 5rem; max-width: 60rem; margin:0 auto; color:var(--text); background:var(--bg); }

/* title row & theme toggle */
.title-row{ display:flex; align-items:center; justify-content:space-between; gap:1rem; }
.title-controls{ display:flex; align-items:center; gap:0.5rem; }
.account-btn{ background:transparent; border: none; cursor:pointer; font-size:1.125rem; padding:0.375rem; border-radius:0.375rem; color:var(--text); }
.account-btn:focus{ outline: 0.1875rem solid rgba(11,95,255,0.12); }
.account-btn svg{ width:1.125rem; height:1.125rem; display:block; }
.account-btn:hover, .account-btn:focus{ background: rgba(11,95,255,0.06); color:var(--accent); }
.theme-toggle{ background:transparent; border: none; cursor:pointer; font-size:1.125rem; padding:0.375rem; border-radius:0.375rem; color:var(--text); }
.theme-toggle:focus{ outline: 0.1875rem solid rgba(11,95,255,0.12); }

/* tabs */
.tabs{ margin-top:1.5rem; }
.tablist{ display:flex; gap:0.5rem; }
.tab{ background:transparent; border:0; padding:0.5rem 0.75rem; border-radius:0.375rem; cursor:pointer; color:var(--text); }
.tab[aria-selected="true"]{ background: rgba(11,95,255,0.08); color:var(--accent); }

.tabpanel{ margin-top:1rem; background: transparent; }

/* form */
.field{ margin-bottom:1rem; display:flex; flex-direction:column; }
.field label{ margin-bottom:0.375rem; color:var(--muted); }
.field input[type="text"], .field select{ padding:0.5rem; border-radius:0.375rem; border:0.0625rem solid var(--border); background:var(--bg); color:var(--text); }
.choices label{ display:block; margin:0.25rem 0; color:var(--text); }
.form-actions{ display:flex; gap:0.5rem; margin-top:1rem; }
.form-actions button{ padding:0.5rem 0.75rem; border-radius:0.375rem; border:0.0625rem solid var(--border); background:var(--panel); color:var(--text); cursor:pointer; }

/* Ensure icon-btn inside form-actions (like #saveBtn) uses the copy button styling */
.form-actions .icon-btn{ background:var(--copy-bg); border-color:var(--copy-border); color:var(--copy-contrast); }
.form-actions .icon-btn:hover{ background:var(--copy-hover); border-color:var(--copy-border); color:var(--copy-contrast); }

.eval-generated{ margin-top:1rem; padding:0.75rem; border-radius:0.375rem; background:var(--panel); border:0.0625rem solid var(--border); color:var(--text); min-height:3.25rem; white-space: pre-wrap; }

/* toast */
.toast{ position:fixed; right:1rem; bottom:1rem; background:var(--panel); color:var(--text); padding:0.5rem 0.75rem; border-radius:0.375rem; opacity:0; transform:translateY(1rem); transition:opacity 200ms ease, transform 200ms ease, background-color var(--transition), color var(--transition); z-index:200; border:0.0625rem solid var(--border); box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,0.12); }
.toast.show{ opacity:1; transform:translateY(0); }

/* account dialog */
.account-dialog::backdrop{ background: rgba(0,0,0,0.4); }
.account-dialog{ border-radius:0.5rem; padding:1rem; border:0.0625rem solid var(--border); background:var(--panel); color:var(--text); max-width:28rem; width:90%; }
.account-dialog h3{ margin-top:0; }
.account-dialog .field input[type="text"]{ width:100%; padding:0.5rem; border-radius:0.375rem; border:0.0625rem solid var(--border); background:var(--bg); color:var(--text); }

/* responses */
.template-upload-controls{ display:flex; gap:0.5rem; align-items:center; margin-bottom:1rem; }
.file-upload input[type="file"]{ display:inline-block; }
/* comments-preview removed (generated comments moved/removed) */

.muted{ color:var(--muted); font-size:0.95rem; margin-top:0.5rem; }

/* feedback sections (collapsible) */
.feedback-sections details{ margin:0.5rem 0; padding:0.5rem; border-radius:0.375rem; background:var(--panel); border:0.0625rem solid var(--border); }
.feedback-sections summary{ cursor:pointer; font-weight:600; padding:0.25rem; }
.section-rows{ margin-top:0.5rem; display:flex; flex-direction:column; gap:0.5rem; }
.response-row{ display:flex; align-items:center; gap:0.5rem; }
.response-row .include-checkbox{ margin-left:0; margin-right:0.25rem; width:1rem; height:1rem; }
.response-row .response-label{ min-width:5.5rem; color:var(--text); font-weight:500; }
.response-row .response-select{ flex:1; min-width:8rem; padding:0.375rem; border-radius:0.375rem; border:0.0625rem solid var(--border); background:var(--bg); color:var(--text); }

/* Hidden state for excluded template responses (live-sync from Template tab) */
.response-row.excluded {
	display: none;
}

/* Hidden state when a section is Aced (top option selected): hide detailed rows */
.response-row.aced-hidden { display: none; }


/* Visual separator shown after the Aced control when 'No' is selected */
.aced-separator{ height:0.0625rem; background:var(--border); margin:0.25rem 0 0.5rem 0; display:none; }
.aced-separator[aria-hidden="false"]{ display:block; }


/* template editor */
.template-editor{ margin-top:1.25rem; padding:0.75rem; border-radius:0.375rem; background:var(--panel); border:0.0625rem solid var(--border); }
.template-editor h3{ margin-top:0; }
.template-controls{ display:flex; gap:0.5rem; margin-bottom:0.75rem; }
.template-list-wrap{ max-height:220px; overflow:auto; margin-bottom:0.75rem; }
.template-form textarea{ width:100%; }

/* Blanks editor styles */
.blanks-editor .blanks-controls{ display:flex; flex-direction:column; gap:0.5rem; max-width:28rem; }
.blanks-editor select{ padding:0.5rem; border-radius:0.375rem; border:0.0625rem solid var(--border); background:var(--bg); color:var(--text); }
.blanks-preview{ margin-top:0.75rem; }
.blanks-preview .eval-generated{ min-height:3.5rem; white-space:pre-wrap; }

/* Inline preview header: label and icon on the same row */
.preview-header{ display:flex; align-items:center; justify-content:space-between; gap:0.5rem; margin-bottom:0.5rem; }
.preview-header label{ font-size:1.25rem; font-weight:600; color:var(--text); margin:0; }
.icon-btn{ position:relative; display:inline-flex; align-items:center; justify-content:center; background:var(--copy-bg); border:0.0625rem solid var(--copy-border); padding:0.5rem 1rem; padding-left:2.5rem; min-width:9rem; min-height:2.25rem; border-radius:0.375rem; cursor:pointer; color:var(--copy-contrast); }
.icon-btn svg{ position:absolute; left:0.6rem; top:50%; transform:translateY(-50%); width:1.25rem; height:1.25rem; color:inherit; }
.icon-btn .icon-label{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); font-size:0.85rem; font-weight:700; color:inherit; }
.icon-btn:hover{ background:var(--copy-hover); border-color:var(--copy-border); color:var(--copy-contrast); }
.icon-btn:focus{ outline: 0.1875rem solid rgba(16,128,0,0.18); }

/* responsive behavior: show sidebar always on wider screens */
@media (min-width: 60rem){
	/* On wide screens the sidebar is visible by default but still floats over content
		 (it does not push content). The hamburger is hidden and the overlay is not used. */
	.sidebar{ transform: translateX(0); }
	.hamburger{ display:none; }
	.overlay{ display:none !important; }
}

